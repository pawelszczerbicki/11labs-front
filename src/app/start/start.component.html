<div class="container mt-4">
  <form [formGroup]="surveyForm">

    <!-- Step 1: Select a lesson -->
    <div *ngIf="step === 1">
      <h3>Select a lesson to teach</h3>
      <div class="d-flex flex-wrap gap-2">
        <span *ngFor="let lesson of lessons"
              class="badge p-3 pointer"
              [class.text-bg-light]="surveyForm.value.lesson !== lesson"
              [class.text-bg-primary]="surveyForm.value.lesson === lesson"
              (click)="surveyForm.patchValue({ lesson })">
          {{ lesson }}
        </span>
      </div>
      <button class="btn btn-primary mt-3" (click)="nextStep()" [disabled]="!surveyForm.value.lesson">Next</button>
    </div>

    <!-- Step 2: Select age -->
    <div *ngIf="step === 2">
      <h3>Select age</h3>
      <div class="d-flex flex-wrap gap-2">
        <span *ngFor="let age of ages"
              class="badge p-3 pointer"
              [class.text-bg-light]="surveyForm.value.age !== age"
              [class.text-bg-primary]="surveyForm.value.age === age"
              [class.active]="surveyForm.value.age === age"
              (click)="surveyForm.patchValue({ age })">
          {{ age }}
        </span>
      </div>
      <button class="btn btn-secondary mt-3 me-2" (click)="prevStep()">Back</button>
      <button class="btn btn-primary mt-3" (click)="nextStep()" [disabled]="!surveyForm.value.age">Next</button>
    </div>

    <!-- Step 3: Select elements -->
    <div *ngIf="step === 3">
      <h3>Select elements</h3>
      <div class="d-flex flex-wrap gap-2">
        <span *ngFor="let element of elements"
              class="badge p-3"
              [class.text-bg-light]="!surveyForm.value.elements.includes(element)"
              [class.text-bg-primary]="surveyForm.value.elements.includes(element)"
              (click)="toggleElement(element)">
          {{ element }}
        </span>
      </div>
      <button class="btn btn-secondary mt-3 me-2" (click)="prevStep()">Back</button>
      <button class="btn btn-primary mt-3" (click)="nextStep()" [disabled]="!surveyForm.value.elements.length">Next</button>
    </div>

    <!-- Step 4: Enter child's name -->
    <div *ngIf="step === 4">
      <h3>Enter child's name</h3>
      <input type="text" class="form-control" formControlName="childName" placeholder="Child's name">
      <button class="btn btn-secondary mt-3 me-2" (click)="prevStep()">Back</button>
      <button class="btn btn-success mt-3" (click)="submitForm()" [disabled]="!surveyForm.value.childName">Submit</button>
    </div>

  </form>
</div>
